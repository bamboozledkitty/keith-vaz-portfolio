<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' cdn.jsdelivr.net 'sha256-lyaj1If3A6E6D3YNdE7tjSfjoa63aXDujZU6vpB4WXw='; style-src 'self' 'unsafe-inline' cdn.jsdelivr.net fonts.googleapis.com; img-src 'self' data: https:; connect-src 'self' api.github.com *.workers.dev; font-src 'self' cdn.jsdelivr.net fonts.gstatic.com;">
  <title>Keith Vaz</title>
  <!-- Emoji favicon - no image file needed! -->
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ‘‹</text></svg>">
  <!-- Preconnect to external resources for faster loading -->
  <link rel="preconnect" href="https://api.github.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Preload font stylesheet, then load async to prevent render blocking -->
  <!-- Subset to only used weights: 400 (normal), 500 (medium), 600 (semibold), 700 (bold), 900 (black) -->
  <link rel="preload" as="style"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap">
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap">
  </noscript>
  <style>
    body {
      background-color: #ffffff;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    /* Bento grid - matching bento.me sizes */
    :root {
      /* Based on bento.me: 2x1 card = 377Ã—177px, so unit â‰ˆ 180px, gap â‰ˆ 20px */
      --card-unit: 180px;
      --card-gap: 20px;
      /* Grid width: 4 columns = 180*4 + 20*3 = 780px (bento.me uses 820px) */
      --grid-width: 780px;
      /* Mobile grid: 2 columns = 180*2 + 20 = 380px */
      --grid-width-mobile: 380px;
      /* About section width - increased to prevent wrapping */
      --about-width: 440px;
      /* Min gap between sections before stacking */
      --min-section-gap: 24px;
      /* Padding on sides */
      --layout-padding: 64px;

      /* Small container (â‰¤380px) - compact mobile layout */
      --card-unit-sm: 140px;
      --card-gap-sm: 16px;
      --grid-width-sm: 296px;
      /* 140*2 + 16 */
    }

    .bento-grid {
      display: flex;
      flex-wrap: wrap;
      gap: var(--card-gap);
      width: var(--grid-width);
      justify-content: center;

      /* Register as container for queries */
      container-type: inline-size;
      container-name: bento;
    }

    /* Base card styles - NEVER shrink or grow */
    .bento-card {
      flex-shrink: 0;
      flex-grow: 0;
    }

    /* Card sizes - matching bento.me proportions */
    .bento-card-1x1 {
      width: 180px;
      height: 180px;
    }

    .bento-card-2x1 {
      width: 380px;
      /* 180*2 + 20 */
      height: 180px;
    }

    .bento-card-2x1.bento-card-half-height {
      width: 380px;
      height: 80px;
    }

    .bento-card-1x2 {
      width: 180px;
      height: 380px;
    }

    .bento-card-2x2 {
      width: 380px;
      height: 380px;
    }

    .bento-card-full {
      /* Section header - full grid width on desktop, short height */
      width: 780px;
      height: 60px;
    }

    /* 
     * Layout - matching user diagram
     * Desktop Breakpoint: padding(64) + about(440) + min-gap(24) + grid(780) + padding(64) = 1372px
     */
    .layout-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      min-height: 100vh;
      padding: 48px 24px;
      background-color: #ffffff;
    }

    .about-section {
      width: 100%;
      max-width: var(--grid-width-sm);
      /* Match card width, not grid width */
      margin-bottom: 24px;
      padding: 0;
      box-sizing: border-box;
    }

    .grid-section {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    @media (min-width: 1372px) {
      .layout-container {
        flex-direction: row;
        align-items: flex-start;
        justify-content: space-between;
        padding: var(--layout-padding);
        max-width: 1728px;
        margin: 0 auto;
      }

      .about-section {
        position: sticky;
        top: var(--layout-padding);
        width: var(--about-width);
        max-width: none;
        margin-bottom: 0;
        padding: 0;
        /* Reset padding for desktop */
      }

      .grid-section {
        width: auto;
        align-items: flex-end;
      }

      .bento-grid {
        width: var(--grid-width);
      }
    }

    /* Stack layout below desktop breakpoint */
    @media (max-width: 1371px) {
      .bento-grid {
        width: var(--grid-width-mobile);
      }

      .bento-card-full {
        width: 380px;
        height: 60px;
      }
    }

    /* Narrow viewports - add horizontal margins */
    @media (max-width: 420px) {
      .layout-container {
        padding-left: 16px;
        padding-right: 16px;
      }

      .bento-grid {
        width: calc(100vw - 32px);
        max-width: var(--grid-width-mobile);
      }
    }

    /* Proximity grouping: more space above section titles than below them */
    .bento-grid>.bento-card-full:not(:first-child) {
      margin-top: 40px;
      /* 40px extra + 20px gap = 60px total spacing above */
    }

    /* =========================================
       CONTAINER QUERIES - Responsive Card Sizing
       ========================================= */

    /* Small container (380px and below) 
       Typically mobile devices with narrow viewports */
    @container bento (max-width: 380px) {
      .bento-card-1x1 {
        width: var(--card-unit-sm);
        height: var(--card-unit-sm);
      }

      .bento-card-2x1 {
        width: var(--grid-width-sm);
        height: var(--card-unit-sm);
      }

      .bento-card-2x1.bento-card-half-height {
        width: var(--grid-width-sm);
        height: 72px;
      }

      .bento-card-1x2 {
        width: var(--card-unit-sm);
        height: var(--grid-width-sm);
      }

      .bento-card-2x2 {
        width: var(--grid-width-sm);
        height: var(--grid-width-sm);
      }

      .bento-card-full {
        width: var(--grid-width-sm);
        height: 54px;
      }

      /* Hide all subtitles on mobile to save space */
      .bento-subtitle {
        display: none;
      }
    }

    /* Very small container (320px and below)
       Very narrow devices, add extra scaling */
    @container bento (max-width: 320px) {
      .bento-card-1x1 {
        width: 140px;
        height: 140px;
      }

      .bento-card-2x1 {
        width: 296px;
        height: 140px;
      }

      .bento-card-2x1.bento-card-half-height {
        width: 296px;
        height: 64px;
      }

      .bento-card-1x2 {
        width: 140px;
        height: 296px;
      }

      .bento-card-2x2 {
        width: 296px;
        height: 296px;
      }

      .bento-card-full {
        width: 296px;
        height: 48px;
      }
    }


    /* Initial loader - shows before React loads */
    .initial-loader {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: white;
      z-index: 9999;
    }

    .loader-text {
      font-family: 'Inter', system-ui, sans-serif;
      font-size: 14px;
      font-weight: 500;
      color: #6b7280;
      margin-bottom: 16px;
    }

    .loader-bar {
      width: 192px;
      height: 4px;
      background: #e5e7eb;
      border-radius: 9999px;
      overflow: hidden;
    }

    .loader-bar-fill {
      height: 100%;
      background: #111827;
      width: 0%;
      animation: indeterminate 1.5s ease-in-out infinite;
    }

    @keyframes indeterminate {
      0% {
        width: 0%;
        margin-left: 0%;
      }

      50% {
        width: 30%;
        margin-left: 35%;
      }

      100% {
        width: 0%;
        margin-left: 100%;
      }
    }

    /* Hide when React takes over */
    .initial-loader.hidden {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease-out;
    }
  </style>
</head>

<body>
  <!-- Inline loader - shows immediately, hidden by React when ready -->
  <div id="initial-loader" class="initial-loader">
    <p id="loader-text" class="loader-text">Waking up...</p>
    <div class="loader-bar">
      <div class="loader-bar-fill"></div>
    </div>
  </div>

  <script>
    (function () {
      const phrases = [
        "Aligning tokens...", "Polishing squircles...", "Snap to grid...", "Kerning pixels...", "Distilling essence...",
        "Brewing components...", "Hydrating themes...", "Organizing chaos...", "Bezier curves...", "Smoothing corners...",
        "Optimizing glyphs...", "Loading variants...", "Setting standards...", "Normalizing scale...", "Grid locking...",
        "Balancing whitespace...", "Fixing widows...", "Hunting orphans...", "Compiling assets...", "Rendering magic...",
        "Defining states...", "Hovering icons...", "Focus ringing...", "Transitioning states...", "Animating ease...",
        "Elastic loading...", "Layering depth...", "Shadow boxing...", "Glow effect...", "Color grading...",
        "Hue shifting...", "Saturation boosting...", "Contrast checking...", "A11y auditing...", "Tab indexing...",
        "Voice over...", "Screen reading...", "Semantic markup...", "DOM walking...", "Tree shaking...",
        "Bundle sizing...", "Minifying code...", "Compressing pngs...", "Vectorizing svg...", "SVG pathing...",
        "Font loading...", "Type setting...", "Leading lines...", "Tracking text...", "Ligature check...",
        "Ascender rising...", "Descender falling...", "Baseline grid...", "Vertical rhythm...", "Horizontal flow...",
        "Flexing boxes...", "Grid layout...", "Auto layout...", "Component mapping...", "Storybook reading...",
        "Documenting design...", "Spec checking...", "Redlining pixels...", "Measurement units...", "Rem sizing...",
        "Em padding...", "Percent width...", "Viewport height...", "Media querying...", "Breakpoint hits...",
        "Responsive rendering...", "Desktop first...", "Mobile first...", "Dark mode...", "Light mode...",
        "System default...", "User preference...", "Motion reduced...", "High contrast...", "Custom props...",
        "CSS variables...", "SASS nesting...", "Tailwind purging...", "PostCSSing...", "Autoprefixing...",
        "Webpack building...", "Vite speed...", "HMR updating...", "Refreshing page...", "Cache busting...",
        "Service working...", "Offline ready...", "Progressive web...", "SPA routing...", "Client side...",
        "Server side...", "Static site...", "Dynamic data...", "API fetching...", "Portfolio loading..."
      ];

      const textElement = document.getElementById('loader-text');
      const loaderElement = document.getElementById('initial-loader');
      let index = Math.floor(Math.random() * phrases.length);

      const interval = setInterval(() => {
        if (!loaderElement || !document.body.contains(loaderElement) || loaderElement.classList.contains('hidden')) {
          clearInterval(interval);
          return;
        }
        index = (index + 1) % phrases.length;
        textElement.innerText = phrases[index];
      }, 1500);
    })();
  </script>

  <div id="root"></div>

  <!-- Handle OAuth redirect before React loads (for GitHub Pages compatibility) -->
  <script>
    (function () {
      // Check if we have OAuth params in the URL (GitHub callback)
      var search = window.location.search;
      var hash = window.location.hash;

      // If we have ?code= and ?state= but no hash (or just #/), redirect to hash-based callback
      if (search && search.indexOf('code=') !== -1 && search.indexOf('state=') !== -1) {
        if (!hash || hash === '#' || hash === '#/') {
          // Redirect to hash-based admin callback with the OAuth params
          var newUrl = window.location.origin + window.location.pathname + '#/admin/callback' + search;
          window.location.replace(newUrl);
        }
      }
    })();
  </script>

  <script type="module" src="/index.tsx"></script>
</body>

</html>