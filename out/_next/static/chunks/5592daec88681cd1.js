(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81464,(e,t,r)=>{t.exports=e.r(73855)},79528,e=>{"use strict";var t=e.i(63373),r=e.i(75028),s=e.i(81464),c=e.i(22638),i=e.i(11358);function n(){let e=(0,s.useRouter)(),n=(0,s.useSearchParams)(),{setAuth:a}=(0,c.useAuth)(),l=(0,r.useRef)(!1);async function u(t,r){try{let s=await (0,i.requestAccessToken)(t,r),c=await (0,i.fetchGitHubUser)(s);a(s,c),e.push("/admin")}catch(t){console.error("OAuth callback error:",t),e.push("/admin/login?error=auth_failed")}}return(0,r.useEffect)(()=>{if(l.current)return;let e=n.get("code"),t=n.get("state");e&&t&&(l.current=!0,u(e,t))},[n]),(0,t.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("div",{className:"text-lg font-medium",children:"Authenticating with GitHub..."})]})})}function a(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,t.jsx)("div",{className:"text-lg",children:"Loading..."})}),children:(0,t.jsx)(n,{})})}e.s(["default",()=>a])}]);