{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n\n/**\n * Resolves media URLs for proper display on GitHub Pages\n * Local paths (/media/...) need BASE_URL prepended\n * External URLs (https://...) are returned as-is\n */\nexport function resolveMediaUrl(url?: string): string | undefined {\n  if (!url) return undefined;\n\n  // External URLs - return as-is\n  if (url.startsWith('http://') || url.startsWith('https://') || url.startsWith('data:')) {\n    return url;\n  }\n\n  // Local paths starting with / need BASE_URL\n  if (url.startsWith('/')) {\n    const baseUrl = '/';\n    // Remove leading slash from url since BASE_URL ends with /\n    return `${baseUrl}${url.slice(1)}`;\n  }\n\n  return url;\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,+MAAO,EAAC,IAAA,sLAAI,EAAC;AACtB;AAQO,SAAS,gBAAgB,GAAY;IAC1C,IAAI,CAAC,KAAK,OAAO;IAEjB,+BAA+B;IAC/B,IAAI,IAAI,UAAU,CAAC,cAAc,IAAI,UAAU,CAAC,eAAe,IAAI,UAAU,CAAC,UAAU;QACtF,OAAO;IACT;IAEA,4CAA4C;IAC5C,IAAI,IAAI,UAAU,CAAC,MAAM;QACvB,MAAM,UAAU;QAChB,2DAA2D;QAC3D,OAAO,GAAG,UAAU,IAAI,KAAK,CAAC,IAAI;IACpC;IAEA,OAAO;AACT"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-button text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-black text-white hover:bg-black/90\",\n        destructive:\n          \"bg-red-500 text-white hover:bg-red-500/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-gray-100 text-gray-900 hover:bg-gray-100/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        primary: \"bg-[#4ade80] hover:bg-[#43c973] text-white shadow-sm active:scale-95\",\n        icon: \"hover:bg-gray-100 text-gray-600\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 px-3\",\n        lg: \"h-11 px-8\",\n        icon: \"h-10 w-10\",\n        xl: \"h-12 w-12\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n  VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\" | \"primary\" | \"icon\" | null\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\" | \"xl\" | null\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,IAAA,gNAAG,EACxB,8RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;YACN,SAAS;YACT,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAWF,MAAM,uBAAS,4PAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,iNAAI,GAAG;IAC9B,qBACE,uRAAC;QACC,WAAW,IAAA,2JAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/ui/squircle.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"../../lib/utils\";\n\n// Simple debounce utility\nfunction debounce<T extends (...args: unknown[]) => void>(\n  fn: T,\n  delay: number,\n  options?: { leading?: boolean }\n): T {\n  let timeoutId: ReturnType<typeof setTimeout> | null = null;\n  let hasCalledLeading = false;\n\n  return ((...args: Parameters<T>) => {\n    if (options?.leading && !hasCalledLeading) {\n      fn(...args);\n      hasCalledLeading = true;\n    }\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n\n    timeoutId = setTimeout(() => {\n      if (!options?.leading) {\n        fn(...args);\n      }\n      hasCalledLeading = false;\n    }, delay);\n  }) as T;\n}\n\ninterface SquircleProps extends React.HTMLAttributes<HTMLDivElement> {\n  cornerRadius: number;\n  cornerSmoothing?: number; // 0-1, default 0.6 for iOS feel\n  as?: React.ElementType;\n  children?: React.ReactNode;\n}\n\n/**\n * Generate SVG path for a squircle (superellipse) shape\n * Based on the superellipse formula for iOS-style continuous corners\n */\nfunction generateSquirclePath(\n  width: number,\n  height: number,\n  cornerRadius: number,\n  cornerSmoothing: number = 0.6\n): string {\n  const w = width;\n  const h = height;\n  const r = Math.min(cornerRadius, w / 2, h / 2);\n  const n = 2 + 2 * cornerSmoothing; // Superellipse power (2 = circle, 4 = squircle, higher = more square)\n\n  // Generate smooth corner path using cubic bezier approximation\n  // This creates a continuous curve similar to iOS corners\n  const c = r * (1 - 0.5522847498); // Magic number for smooth bezier approximation\n\n  return `M ${r},0 L ${w - r},0 C ${w - c},0 ${w},${c} ${w},${r} L ${w},${h - r} C ${w},${h - c} ${w - c},${h} ${w - r},${h} L ${r},${h} C ${c},${h} 0,${h - c} 0,${h - r} L 0,${r} C 0,${c} ${c},0 ${r},0 Z`;\n}\n\n/**\n * Squircle component that applies iOS-style continuous corners\n * using SVG clip-path for mathematically smooth curves.\n */\nconst Squircle = React.forwardRef<HTMLDivElement, SquircleProps>(\n  ({ cornerRadius, cornerSmoothing = 0.6, className, style, children, as: Component = \"div\", ...props }, ref) => {\n    const [dimensions, setDimensions] = React.useState({ width: 0, height: 0 });\n    const innerRef = React.useRef<HTMLDivElement>(null);\n\n    // Merge refs\n    React.useImperativeHandle(ref, () => innerRef.current!);\n\n    // Track element dimensions with ResizeObserver (debounced for performance)\n    React.useEffect(() => {\n      const element = innerRef.current;\n      if (!element) return;\n\n      const updateDimensions = () => {\n        const { width, height } = element.getBoundingClientRect();\n        setDimensions({ width, height });\n      };\n\n      // Debounced version for resize events\n      const debouncedUpdate = debounce(updateDimensions, 100, { leading: true });\n\n      // Initial measurement (immediate)\n      updateDimensions();\n\n      // Observe resize with debounced callback\n      const resizeObserver = new ResizeObserver(debouncedUpdate);\n      resizeObserver.observe(element);\n\n      return () => resizeObserver.disconnect();\n    }, []);\n\n    // Generate squircle clip-path\n    const clipPath = React.useMemo(() => {\n      if (dimensions.width === 0 || dimensions.height === 0) {\n        return undefined;\n      }\n\n      try {\n        const path = generateSquirclePath(\n          dimensions.width,\n          dimensions.height,\n          cornerRadius,\n          cornerSmoothing\n        );\n        return `path('${path}')`;\n      } catch {\n        // Fallback if path generation fails\n        return undefined;\n      }\n    }, [dimensions.width, dimensions.height, cornerRadius, cornerSmoothing]);\n\n    const ElementType = Component as React.ElementType;\n\n    return (\n      <ElementType\n        ref={innerRef}\n        className={cn(className)}\n        style={{\n          ...style,\n          clipPath: clipPath,\n          // Fallback border-radius for initial render and unsupported browsers\n          borderRadius: cornerRadius,\n        }}\n        {...props}\n      >\n        {children}\n      </ElementType>\n    );\n  }\n);\n\nSquircle.displayName = \"Squircle\";\n\n/**\n * Hook to get squircle clip-path for custom implementations\n */\nexport function useSquircleClipPath(\n  ref: React.RefObject<HTMLElement>,\n  cornerRadius: number,\n  cornerSmoothing: number = 0.6\n): string | undefined {\n  const [clipPath, setClipPath] = React.useState<string | undefined>();\n\n  React.useEffect(() => {\n    const element = ref.current;\n    if (!element) return;\n\n    const updateClipPath = () => {\n      const { width, height } = element.getBoundingClientRect();\n      if (width === 0 || height === 0) return;\n\n      try {\n        const path = generateSquirclePath(width, height, cornerRadius, cornerSmoothing);\n        setClipPath(`path('${path}')`);\n      } catch {\n        setClipPath(undefined);\n      }\n    };\n\n    // Debounced version for resize events\n    const debouncedUpdate = debounce(updateClipPath, 100, { leading: true });\n\n    // Initial measurement\n    updateClipPath();\n\n    const resizeObserver = new ResizeObserver(debouncedUpdate);\n    resizeObserver.observe(element);\n\n    return () => resizeObserver.disconnect();\n  }, [ref, cornerRadius, cornerSmoothing]);\n\n  return clipPath;\n}\n\nexport { Squircle };\n\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAEA,0BAA0B;AAC1B,SAAS,SACP,EAAK,EACL,KAAa,EACb,OAA+B;IAE/B,IAAI,YAAkD;IACtD,IAAI,mBAAmB;IAEvB,OAAQ,CAAC,GAAG;QACV,IAAI,SAAS,WAAW,CAAC,kBAAkB;YACzC,MAAM;YACN,mBAAmB;QACrB;QAEA,IAAI,WAAW;YACb,aAAa;QACf;QAEA,YAAY,WAAW;YACrB,IAAI,CAAC,SAAS,SAAS;gBACrB,MAAM;YACR;YACA,mBAAmB;QACrB,GAAG;IACL;AACF;AASA;;;CAGC,GACD,SAAS,qBACP,KAAa,EACb,MAAc,EACd,YAAoB,EACpB,kBAA0B,GAAG;IAE7B,MAAM,IAAI;IACV,MAAM,IAAI;IACV,MAAM,IAAI,KAAK,GAAG,CAAC,cAAc,IAAI,GAAG,IAAI;IAC5C,MAAM,IAAI,IAAI,IAAI,iBAAiB,sEAAsE;IAEzG,+DAA+D;IAC/D,yDAAyD;IACzD,MAAM,IAAI,IAAI,CAAC,IAAI,YAAY,GAAG,+CAA+C;IAEjF,OAAO,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,IAAI,CAAC;AAC7M;AAEA;;;CAGC,GACD,MAAM,yBAAW,4PAAgB,CAC/B,CAAC,EAAE,YAAY,EAAE,kBAAkB,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,YAAY,KAAK,EAAE,GAAG,OAAO,EAAE;IACrG,MAAM,CAAC,YAAY,cAAc,GAAG,0PAAc,CAAC;QAAE,OAAO;QAAG,QAAQ;IAAE;IACzE,MAAM,WAAW,wPAAY,CAAiB;IAE9C,aAAa;IACb,qQAAyB,CAAC,KAAK,IAAM,SAAS,OAAO;IAErD,2EAA2E;IAC3E,2PAAe,CAAC;QACd,MAAM,UAAU,SAAS,OAAO;QAChC,IAAI,CAAC,SAAS;QAEd,MAAM,mBAAmB;YACvB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,QAAQ,qBAAqB;YACvD,cAAc;gBAAE;gBAAO;YAAO;QAChC;QAEA,sCAAsC;QACtC,MAAM,kBAAkB,SAAS,kBAAkB,KAAK;YAAE,SAAS;QAAK;QAExE,kCAAkC;QAClC;QAEA,yCAAyC;QACzC,MAAM,iBAAiB,IAAI,eAAe;QAC1C,eAAe,OAAO,CAAC;QAEvB,OAAO,IAAM,eAAe,UAAU;IACxC,GAAG,EAAE;IAEL,8BAA8B;IAC9B,MAAM,WAAW,yPAAa,CAAC;QAC7B,IAAI,WAAW,KAAK,KAAK,KAAK,WAAW,MAAM,KAAK,GAAG;YACrD,OAAO;QACT;QAEA,IAAI;YACF,MAAM,OAAO,qBACX,WAAW,KAAK,EAChB,WAAW,MAAM,EACjB,cACA;YAEF,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC;QAC1B,EAAE,OAAM;YACN,oCAAoC;YACpC,OAAO;QACT;IACF,GAAG;QAAC,WAAW,KAAK;QAAE,WAAW,MAAM;QAAE;QAAc;KAAgB;IAEvE,MAAM,cAAc;IAEpB,qBACE,uRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EAAC;QACd,OAAO;YACL,GAAG,KAAK;YACR,UAAU;YACV,qEAAqE;YACrE,cAAc;QAChB;QACC,GAAG,KAAK;kBAER;;;;;;AAGP;AAGF,SAAS,WAAW,GAAG;AAKhB,SAAS,oBACd,GAAiC,EACjC,YAAoB,EACpB,kBAA0B,GAAG;IAE7B,MAAM,CAAC,UAAU,YAAY,GAAG,0PAAc;IAE9C,2PAAe,CAAC;QACd,MAAM,UAAU,IAAI,OAAO;QAC3B,IAAI,CAAC,SAAS;QAEd,MAAM,iBAAiB;YACrB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,QAAQ,qBAAqB;YACvD,IAAI,UAAU,KAAK,WAAW,GAAG;YAEjC,IAAI;gBACF,MAAM,OAAO,qBAAqB,OAAO,QAAQ,cAAc;gBAC/D,YAAY,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC;YAC/B,EAAE,OAAM;gBACN,YAAY;YACd;QACF;QAEA,sCAAsC;QACtC,MAAM,kBAAkB,SAAS,gBAAgB,KAAK;YAAE,SAAS;QAAK;QAEtE,sBAAsB;QACtB;QAEA,MAAM,iBAAiB,IAAI,eAAe;QAC1C,eAAe,OAAO,CAAC;QAEvB,OAAO,IAAM,eAAe,UAAU;IACxC,GAAG;QAAC;QAAK;QAAc;KAAgB;IAEvC,OAAO;AACT"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/EditControls.tsx"],"sourcesContent":["import React from 'react';\nimport { Trash2 } from 'lucide-react';\nimport { ItemSize } from '../types';\nimport { cn } from '../lib/utils';\nimport { Button } from './ui/button';\nimport { Squircle } from './ui/squircle';\n\ninterface EditControlsProps {\n  onDelete: () => void;\n  onResize?: (size: ItemSize) => void;\n  currentSize: ItemSize;\n  isHeading?: boolean;\n}\n\nconst EditControls: React.FC<EditControlsProps> = ({ onDelete, onResize, currentSize, isHeading }) => {\n  return (\n    <>\n      {/* Delete Button - Top Left */}\n      <div \n        className=\"absolute -top-3 -left-3 z-[60] animate-in fade-in zoom-in-90 duration-300 ease-[cubic-bezier(0.16,1,0.3,1)]\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <Button \n          variant=\"destructive\"\n          size=\"icon\"\n          onClick={(e) => { e.stopPropagation(); onDelete(); }}\n          className=\"rounded-[4px] shadow-xl bg-white text-gray-600 hover:bg-red-50 hover:text-red-600 hover:scale-110 transition-all duration-200 w-10 h-10 border border-gray-200\"\n          aria-label=\"Delete card\"\n        >\n          <Trash2 size={20} />\n        </Button>\n      </div>\n\n      {/* Size Variant Bar - Bottom Center */}\n      {!isHeading && onResize && (\n      <div \n        className=\"absolute -bottom-14 left-1/2 -translate-x-1/2 z-[60] animate-in fade-in slide-in-from-bottom-3 duration-500 ease-[cubic-bezier(0.16,1,0.3,1)]\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Bridge to prevent mouseleave when moving from card to controls */}\n        <div className=\"absolute -top-6 left-0 right-0 h-6 bg-transparent pointer-events-auto\" />\n        \n        <Squircle cornerRadius={10} className=\"flex items-center bg-black p-1.5 shadow-2xl border border-white/10 gap-0.5\">\n        {/* 1. Small Square (1x1) */}\n        <Button \n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={(e) => { e.stopPropagation(); onResize('1x1'); }}\n          className={cn(\n            \"w-8 h-8 rounded-[4px] transition-all duration-300 hover:bg-white/10 text-white\",\n            currentSize === '1x1' && \"bg-white text-black scale-110 hover:bg-white\"\n          )}\n          title=\"Square (1x1)\"\n          aria-label=\"Resize to small square (1x1)\"\n          aria-pressed={currentSize === '1x1'}\n        >\n          <div className=\"w-4 h-4 border-2 border-current rounded-[2px]\" />\n        </Button>\n        \n        {/* 2. Narrow Rectangle (1x0.5) */}\n        <Button \n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={(e) => { e.stopPropagation(); onResize('1x0.5'); }}\n          className={cn(\n            \"w-8 h-8 rounded-[4px] transition-all duration-300 hover:bg-white/10 text-white\",\n            currentSize === '1x0.5' && \"bg-white text-black scale-110 hover:bg-white\"\n          )}\n          title=\"Narrow (1x0.5)\"\n          aria-label=\"Resize to narrow strip (1x0.5)\"\n          aria-pressed={currentSize === '1x0.5'}\n        >\n          <div className=\"w-4 h-2.5 border-2 border-current rounded-[1px]\" />\n        </Button>\n\n        {/* 3. Wide Rectangle (2x1) */}\n        <Button \n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={(e) => { e.stopPropagation(); onResize('2x1'); }}\n          className={cn(\n            \"w-8 h-8 rounded-[4px] transition-all duration-300 hover:bg-white/10 text-white\",\n            currentSize === '2x1' && \"bg-white text-black scale-110 hover:bg-white\"\n          )}\n          title=\"Wide Rectangle (2x1)\"\n          aria-label=\"Resize to wide rectangle (2x1)\"\n          aria-pressed={currentSize === '2x1'}\n        >\n          <div className=\"w-6 h-4 border-2 border-current rounded-[2px] flex items-center justify-end pr-0.5\">\n            <div className=\"w-2 h-3 bg-current rounded-[1px] opacity-60\" />\n          </div>\n        </Button>\n\n        {/* 4. Vertical Rectangle (1x2) */}\n        <Button \n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={(e) => { e.stopPropagation(); onResize('1x2'); }}\n          className={cn(\n            \"w-8 h-8 rounded-[4px] transition-all duration-300 hover:bg-white/10 text-white\",\n            currentSize === '1x2' && \"bg-white text-black scale-110 hover:bg-white\"\n          )}\n          title=\"Vertical Rectangle (1x2)\"\n          aria-label=\"Resize to vertical rectangle (1x2)\"\n          aria-pressed={currentSize === '1x2'}\n        >\n          <div className=\"w-3 h-5.5 border-2 border-current rounded-[2px] flex flex-col items-center justify-end pb-0.5\">\n            <div className=\"w-2 h-2.5 bg-current rounded-[1px] opacity-60\" />\n          </div>\n        </Button>\n\n        {/* 5. Large Square (2x2) */}\n        <Button \n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={(e) => { e.stopPropagation(); onResize('2x2'); }}\n          className={cn(\n            \"w-8 h-8 rounded-[4px] transition-all duration-300 hover:bg-white/10 text-white\",\n            currentSize === '2x2' && \"bg-white text-black scale-110 hover:bg-white\"\n          )}\n          title=\"Large Square (2x2)\"\n          aria-label=\"Resize to large square (2x2)\"\n          aria-pressed={currentSize === '2x2'}\n        >\n          <div className=\"w-5.5 h-5.5 border-2 border-current rounded-[2px] flex items-center justify-center\">\n            <div className=\"w-3 h-3 bg-current rounded-[1px] opacity-60\" />\n          </div>\n        </Button>\n        </Squircle>\n      </div>\n      )}\n    </>\n  );\n};\n\nexport default EditControls;"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;AACA;;;;;;AASA,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE;IAC/F,qBACE;;0BAEE,uRAAC;gBACC,WAAU;gBACV,SAAS,CAAC,IAAM,EAAE,eAAe;0BAEjC,cAAA,uRAAC,8KAAM;oBACL,SAAQ;oBACR,MAAK;oBACL,SAAS,CAAC;wBAAQ,EAAE,eAAe;wBAAI;oBAAY;oBACnD,WAAU;oBACV,cAAW;8BAEX,cAAA,uRAAC,6PAAM;wBAAC,MAAM;;;;;;;;;;;;;;;;YAKjB,CAAC,aAAa,0BACf,uRAAC;gBACC,WAAU;gBACV,SAAS,CAAC,IAAM,EAAE,eAAe;;kCAGjC,uRAAC;wBAAI,WAAU;;;;;;kCAEf,uRAAC,kLAAQ;wBAAC,cAAc;wBAAI,WAAU;;0CAEtC,uRAAC,8KAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,CAAC;oCAAQ,EAAE,eAAe;oCAAI,SAAS;gCAAQ;gCACxD,WAAW,IAAA,2JAAE,EACX,kFACA,gBAAgB,SAAS;gCAE3B,OAAM;gCACN,cAAW;gCACX,gBAAc,gBAAgB;0CAE9B,cAAA,uRAAC;oCAAI,WAAU;;;;;;;;;;;0CAIjB,uRAAC,8KAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,CAAC;oCAAQ,EAAE,eAAe;oCAAI,SAAS;gCAAU;gCAC1D,WAAW,IAAA,2JAAE,EACX,kFACA,gBAAgB,WAAW;gCAE7B,OAAM;gCACN,cAAW;gCACX,gBAAc,gBAAgB;0CAE9B,cAAA,uRAAC;oCAAI,WAAU;;;;;;;;;;;0CAIjB,uRAAC,8KAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,CAAC;oCAAQ,EAAE,eAAe;oCAAI,SAAS;gCAAQ;gCACxD,WAAW,IAAA,2JAAE,EACX,kFACA,gBAAgB,SAAS;gCAE3B,OAAM;gCACN,cAAW;gCACX,gBAAc,gBAAgB;0CAE9B,cAAA,uRAAC;oCAAI,WAAU;8CACb,cAAA,uRAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;0CAKnB,uRAAC,8KAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,CAAC;oCAAQ,EAAE,eAAe;oCAAI,SAAS;gCAAQ;gCACxD,WAAW,IAAA,2JAAE,EACX,kFACA,gBAAgB,SAAS;gCAE3B,OAAM;gCACN,cAAW;gCACX,gBAAc,gBAAgB;0CAE9B,cAAA,uRAAC;oCAAI,WAAU;8CACb,cAAA,uRAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;0CAKnB,uRAAC,8KAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,CAAC;oCAAQ,EAAE,eAAe;oCAAI,SAAS;gCAAQ;gCACxD,WAAW,IAAA,2JAAE,EACX,kFACA,gBAAgB,SAAS;gCAE3B,OAAM;gCACN,cAAW;gCACX,gBAAc,gBAAgB;0CAE9B,cAAA,uRAAC;oCAAI,WAAU;8CACb,cAAA,uRAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ3B;uCAEe"}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/LazyVideo.tsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\n\ninterface LazyVideoProps extends React.VideoHTMLAttributes<HTMLVideoElement> {\n  src: string;\n  poster?: string;\n}\n\n/**\n * LazyVideo component that only loads video content when it enters the viewport.\n * Uses IntersectionObserver for efficient visibility detection.\n */\nconst LazyVideo: React.FC<LazyVideoProps> = ({ src, poster, className, ...props }) => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const [isVisible, setIsVisible] = useState(false);\n  const [hasLoaded, setHasLoaded] = useState(false);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n          // Once visible, no need to observe anymore\n          observer.disconnect();\n        }\n      },\n      {\n        rootMargin: '100px', // Start loading slightly before visible\n        threshold: 0,\n      }\n    );\n\n    observer.observe(video);\n\n    return () => observer.disconnect();\n  }, []);\n\n  // When video becomes visible, set the src\n  useEffect(() => {\n    if (isVisible && videoRef.current && !hasLoaded) {\n      videoRef.current.src = src;\n      setHasLoaded(true);\n    }\n  }, [isVisible, src, hasLoaded]);\n\n  return (\n    <video\n      ref={videoRef}\n      poster={poster}\n      preload=\"none\"\n      className={className}\n      {...props}\n    />\n  );\n};\n\nexport default LazyVideo;\n"],"names":[],"mappings":";;;;;AAAA;;;AAOA;;;CAGC,GACD,MAAM,YAAsC,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,OAAO;IAC/E,MAAM,WAAW,IAAA,wPAAM,EAAmB;IAC1C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,0PAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,0PAAQ,EAAC;IAE3C,IAAA,2PAAS,EAAC;QACR,MAAM,QAAQ,SAAS,OAAO;QAC9B,IAAI,CAAC,OAAO;QAEZ,MAAM,WAAW,IAAI,qBACnB,CAAC,CAAC,MAAM;YACN,IAAI,MAAM,cAAc,EAAE;gBACxB,aAAa;gBACb,2CAA2C;gBAC3C,SAAS,UAAU;YACrB;QACF,GACA;YACE,YAAY;YACZ,WAAW;QACb;QAGF,SAAS,OAAO,CAAC;QAEjB,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG,EAAE;IAEL,0CAA0C;IAC1C,IAAA,2PAAS,EAAC;QACR,IAAI,aAAa,SAAS,OAAO,IAAI,CAAC,WAAW;YAC/C,SAAS,OAAO,CAAC,GAAG,GAAG;YACvB,aAAa;QACf;IACF,GAAG;QAAC;QAAW;QAAK;KAAU;IAE9B,qBACE,uRAAC;QACC,KAAK;QACL,QAAQ;QACR,SAAQ;QACR,WAAW;QACV,GAAG,KAAK;;;;;;AAGf;uCAEe"}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\nimport { Squircle } from \"./squircle\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, children, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"bg-white text-gray-950 rounded-card border border-[#efefef] isolate\",\n      className\n    )}\n    {...props}\n  >\n    <Squircle\n      cornerRadius={24}\n      cornerSmoothing={0.6}\n      className=\"h-full w-full relative overflow-hidden\"\n    >\n      {children}\n    </Squircle>\n  </div>\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"font-medium leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-gray-400\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,qBAAO,4PAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,uRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,uEACA;QAED,GAAG,KAAK;kBAET,cAAA,uRAAC,kLAAQ;YACP,cAAc;YACd,iBAAiB;YACjB,WAAU;sBAET;;;;;;;;;;;AAIP,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,4PAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,uRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,4PAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,uRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,2CACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,4PAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,uRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,4PAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,uRAAC;QAAI,KAAK;QAAK,WAAW,IAAA,2JAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,4PAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,uRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\nimport { Squircle } from \"./squircle\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> { }\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-12 w-full rounded-input border border-[#efefef] bg-gray-50 px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/5 disabled:cursor-not-allowed disabled:opacity-50 transition-all font-medium\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMA,MAAM,sBAAQ,4PAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,uRAAC;QACC,MAAM;QACN,WAAW,IAAA,2JAAE,EACX,sWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 668, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/BentoCard.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { BentoItemData, ItemSize, MediaType, TextAlign, TextVAlign, TextSize, ViewMode } from '../types';\nimport { cn, resolveMediaUrl } from '../lib/utils';\nimport { Globe, Pencil, Film } from 'lucide-react';\nimport EditControls from './EditControls';\nimport LazyVideo from './LazyVideo';\nimport { Card } from './ui/card';\nimport { Input } from './ui/input';\nimport { Squircle } from './ui/squircle';\nimport { useAuth } from '../contexts/AuthContext';\n\n// Text card alignment and size utilities\nconst getTextAlignClass = (align?: TextAlign): string => {\n  switch (align) {\n    case 'center': return 'text-center items-center';\n    case 'right': return 'text-right items-end';\n    default: return 'text-left items-start';\n  }\n};\n\nconst getTextVAlignClass = (vAlign?: TextVAlign): string => {\n  switch (vAlign) {\n    case 'top': return 'justify-start';\n    case 'bottom': return 'justify-end';\n    default: return 'justify-center';\n  }\n};\n\nconst getTextSizeClass = (size?: TextSize): string => {\n  switch (size) {\n    case 'small': return 'text-sm';\n    case 'large': return 'text-xl';\n    default: return 'text-base';\n  }\n};\n\n// Video file extensions\nconst VIDEO_EXTENSIONS = ['.mp4', '.webm', '.mov', '.m4v', '.ogg'];\n\n// Detect if URL is a video\nconst isVideoUrl = (url?: string): boolean => {\n  if (!url) return false;\n  const lowerUrl = url.toLowerCase();\n  return VIDEO_EXTENSIONS.some(ext => lowerUrl.includes(ext));\n};\n\n// Get media type from URL\nconst getMediaType = (url?: string, explicitType?: MediaType): MediaType => {\n  if (explicitType) return explicitType;\n  return isVideoUrl(url) ? 'video' : 'image';\n};\n\n// Caption character limit\nconst CAPTION_MAX_LENGTH = 50;\n\ninterface BentoCardProps {\n  item: BentoItemData;\n  currentView?: ViewMode;\n  isAdminRoute?: boolean; // Whether we're on the admin route (not just authenticated)\n  isOverlay?: boolean;\n  isDragging?: boolean;\n  onDelete?: (id: string) => void;\n  onResize?: (id: string, size: ItemSize) => void;\n  onUpdate?: (id: string, updates: Partial<BentoItemData>) => void;\n  onStartEdit?: (id: string, anchorRect: DOMRect) => void;\n}\n\nconst SocialIcon = ({ name, className }: { name?: string; className?: string }) => {\n  if (name?.startsWith('data:') || name?.startsWith('http') || name?.startsWith('/') || name?.includes('drive')) {\n    return <img src={resolveMediaUrl(name)} alt=\"icon\" className={cn(\"object-contain\", className)} />;\n  }\n  return <Globe className={className} />;\n};\n\nconst BentoCard: React.FC<BentoCardProps> = ({ item, currentView = 'desktop', isAdminRoute = false, isOverlay, isDragging, onDelete, onResize, onUpdate, onStartEdit }) => {\n  const { isAuthenticated, isAdmin } = useAuth();\n  // canEdit requires BOTH route context (isAdminRoute) AND auth state\n  const canEdit = isAdminRoute && isAuthenticated && isAdmin;\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  // Get size for current view\n  const currentSize: ItemSize = (() => {\n    const layout = currentView === 'desktop' ? item.desktopLayout : item.mobileLayout;\n    return layout?.size || item.size;\n  })();\n\n  const [isHovered, setIsHovered] = useState(false);\n  const [isEditingCaption, setIsEditingCaption] = useState(false);\n  const [tempCaption, setTempCaption] = useState(item.caption || '');\n  const captionInputRef = useRef<HTMLInputElement>(null);\n\n  // Sync tempCaption with item prop when item changes externally\n  useEffect(() => {\n    setTempCaption(item.caption || '');\n  }, [item.caption]);\n\n  // Focus caption input when entering edit mode\n  useEffect(() => {\n    if (isEditingCaption && captionInputRef.current) {\n      captionInputRef.current.focus();\n    }\n  }, [isEditingCaption]);\n\n  // Handle click - navigate to URL or open editor\n  const handleCardClick = (e: React.MouseEvent) => {\n    // Prevent navigation if clicking on edit controls, caption, or other interactive elements\n    if ((e.target as HTMLElement).closest('.edit-controls, input, button')) {\n      return;\n    }\n\n    // Cmd/Ctrl + Click always opens URL (even in admin mode) for testing links\n    if ((e.metaKey || e.ctrlKey) && item.url) {\n      e.preventDefault();\n      window.open(item.url, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    // In edit mode, regular click opens the editor popover\n    if (canEdit && onStartEdit && cardRef.current) {\n      const rect = cardRef.current.getBoundingClientRect();\n      onStartEdit(item.id, rect);\n      return;\n    }\n\n    // Not in edit mode - navigate to URL if present\n    if (item.url) {\n      window.open(item.url, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  // Handle keyboard activation (Enter/Space)\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      handleCardClick(e as unknown as React.MouseEvent);\n    }\n  };\n\n  // Check if this is a media-only card (edge-to-edge media with caption)\n  const isMediaCard = item.variant === 'media' || item.type === 'image';\n\n  // Check if this is a text card\n  const isTextCard = item.type === 'text';\n\n  // Determine if card is interactive (needs tabIndex and role)\n  // Text cards without URLs are not interactive in public view\n  const isTextCardWithoutUrl = isTextCard && !item.url;\n  const isInteractive = (!!item.url || canEdit) && !(isTextCardWithoutUrl && !canEdit);\n\n  // Save caption inline\n  const handleSaveCaption = () => {\n    onUpdate?.(item.id, { caption: tempCaption });\n    setIsEditingCaption(false);\n  };\n\n  // Cancel caption editing\n  const handleCancelCaption = () => {\n    setTempCaption(item.caption || '');\n    setIsEditingCaption(false);\n  };\n\n  // Render edge-to-edge media (image or video) with hover caption\n  const renderMediaCard = () => {\n    const mediaUrl = resolveMediaUrl(item.image);\n    const mediaType = getMediaType(mediaUrl, item.mediaType);\n    const hasMedia = !!mediaUrl;\n\n    return (\n      <div className=\"h-full w-full relative group overflow-hidden bg-gray-100 flex items-center justify-center\">\n        {/* Media - Container should fill the card */}\n        <div className=\"relative w-full h-full\">\n          {hasMedia && mediaType === 'video' ? (\n            <LazyVideo\n              src={mediaUrl}\n              className=\"absolute inset-0 w-full h-full object-cover\"\n              autoPlay\n              loop\n              muted\n              playsInline\n            />\n          ) : hasMedia ? (\n            <img\n              src={mediaUrl}\n              alt={item.caption || item.title || 'Media'}\n              loading=\"lazy\"\n              decoding=\"async\"\n              className=\"absolute inset-0 w-full h-full object-cover transition-transform duration-500\"\n            />\n          ) : (\n            <div className=\"absolute inset-0 w-full h-full flex items-center justify-center bg-gray-100\">\n              <Film size={32} className=\"text-gray-300\" />\n            </div>\n          )}\n        </div>\n\n        {/* Caption Overlay - Bottom Left (always visible when caption exists) */}\n        {!isEditingCaption && (\n          <div\n            className={cn(\n              \"absolute bottom-0 left-0 right-0 p-3 transition-opacity duration-200\",\n              // Always show if caption exists, otherwise only on hover for edit mode\n              item.caption ? \"opacity-100\" : (canEdit && isHovered ? \"opacity-100\" : \"opacity-0\")\n            )}\n            role={canEdit ? \"button\" : undefined}\n            aria-label={canEdit ? \"Edit caption\" : undefined}\n            tabIndex={canEdit ? 0 : undefined}\n            onClick={canEdit ? (e) => {\n              e.stopPropagation();\n              setIsEditingCaption(true);\n            } : undefined}\n            onKeyDown={canEdit ? (e) => {\n              if (e.key === 'Enter' || e.key === ' ') {\n                e.preventDefault();\n                e.stopPropagation();\n                setIsEditingCaption(true);\n              }\n            } : undefined}\n          >\n            {item.caption ? (\n              // Caption exists - show it with dark background\n              <div className={cn(\n                \"inline-flex items-center gap-2 px-3 py-2 bg-black/60 backdrop-blur-sm rounded-lg max-w-full\",\n                canEdit && \"cursor-text hover:bg-black/70 transition-colors\"\n              )}>\n                {canEdit && isHovered && <Pencil size={16} className=\"text-white/70 shrink-0\" />}\n                <span className=\"text-sm text-white truncate\">{item.caption}</span>\n              </div>\n            ) : canEdit ? (\n              // No caption - show add prompt (only in edit mode on hover)\n              <div className=\"inline-flex items-center gap-2 px-3 py-2 bg-white/95 backdrop-blur-sm rounded-lg border border-gray-200 shadow-sm cursor-text hover:bg-white transition-colors max-w-full\">\n                <Pencil size={16} className=\"text-gray-500 shrink-0\" />\n                <span className=\"text-sm text-gray-500 italic\">Add caption...</span>\n              </div>\n            ) : null}\n          </div>\n        )}\n\n        {/* Inline Caption Editor */}\n        {isEditingCaption && (\n          <div\n            className=\"absolute bottom-0 left-0 right-0 p-3\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Input\n              ref={captionInputRef}\n              value={tempCaption}\n              onChange={(e) => setTempCaption(e.target.value.slice(0, CAPTION_MAX_LENGTH))}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  handleSaveCaption();\n                } else if (e.key === 'Escape') {\n                  handleCancelCaption();\n                }\n              }}\n              onBlur={handleSaveCaption}\n              placeholder=\"Add caption...\"\n              maxLength={CAPTION_MAX_LENGTH}\n              className=\"bg-white border-gray-300 shadow-lg text-sm h-10 max-w-[280px]\"\n            />\n            <p className=\"text-2xs text-white/70 mt-1 ml-1\">\n              {tempCaption.length}/{CAPTION_MAX_LENGTH}\n            </p>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n\n  // Render text card with alignment options\n  const renderTextCard = () => {\n    const alignClass = getTextAlignClass(item.textAlign);\n    const vAlignClass = getTextVAlignClass(item.textVAlign);\n    const sizeClass = getTextSizeClass(item.textSize);\n\n    return (\n      <div className={cn(\n        \"h-full w-full flex flex-col p-4 bg-white\",\n        alignClass,\n        vAlignClass\n      )}>\n        <p className={cn(\n          \"font-medium text-gray-900 leading-relaxed\",\n          sizeClass\n        )}>\n          {item.title}\n        </p>\n      </div>\n    );\n  };\n\n  const renderContent = () => {\n    // 0. Heading - Section title (380Ã—60px like bento.me)\n    if (item.type === 'heading' || currentSize === 'full') {\n      return (\n        <div className=\"h-full w-full flex items-center px-4 bg-transparent\">\n          <h2 className=\"text-lg font-semibold text-gray-900 tracking-tight\">\n            {item.title}\n          </h2>\n        </div>\n      );\n    }\n\n    // Media card - edge-to-edge with caption (for any size with media variant)\n    if (isMediaCard) {\n      return renderMediaCard();\n    }\n\n    // Text card - no icon, just text with alignment\n    if (isTextCard) {\n      return renderTextCard();\n    }\n\n    // 1. Small Square (1x1) - Icon Top, Text Bottom with uniform padding\n    if (currentSize === '1x1') {\n      return (\n        <div className=\"h-full w-full flex flex-col justify-between p-5 group bg-white\">\n          <Squircle cornerRadius={12} className=\"w-10 h-10 bg-gray-50 border border-[#f3f3f3] flex items-center justify-center text-gray-800 shrink-0 group-hover:scale-110 transition-transform duration-300\">\n            <SocialIcon name={item.icon || item.image} className=\"w-5 h-5\" />\n          </Squircle>\n          <div className=\"min-w-0 w-full\">\n            <h3 className={cn(\n              \"font-medium text-gray-900 leading-snug text-sm\",\n              item.subtitle ? \"line-clamp-2\" : \"line-clamp-3\"\n            )}>{item.title}</h3>\n            {item.subtitle && <p className=\"text-xs text-gray-500 mt-1 font-normal line-clamp-1 bento-subtitle\">{item.subtitle}</p>}\n          </div>\n        </div>\n      );\n    }\n\n    // 2. Narrow Rectangle (1x0.5) - Horizontal strip for quick links/stats\n    if (currentSize === '1x0.5') {\n      return (\n        <div className=\"flex items-center h-full w-full px-4 md:px-5 gap-3 md:gap-4 bg-white\">\n          <Squircle cornerRadius={10} className=\"w-10 h-10 bg-gray-50 border border-[#efefef] flex items-center justify-center shrink-0\">\n            <SocialIcon name={item.icon || item.image} className=\"w-5 h-5\" />\n          </Squircle>\n          <div className=\"min-w-0 flex-1\">\n            <h3 className={cn(\n              \"font-medium text-gray-900 text-sm leading-snug\",\n              item.subtitle ? \"truncate\" : \"line-clamp-2\"\n            )}>{item.title}</h3>\n            {item.subtitle && <p className=\"text-xs text-gray-500 mt-0.5 font-normal truncate bento-subtitle\">{item.subtitle}</p>}\n          </div>\n        </div>\n      );\n    }\n\n    // 3. Wide Rectangle (2x1) - bento.me style: icon + text grouped at top-left, image right\n    if (currentSize === '2x1') {\n      return (\n        <div className=\"flex h-full w-full bg-white group p-5 gap-3 md:gap-4\">\n          {/* Text content - left side, icon + text grouped at top */}\n          <div className=\"flex-1 flex flex-col justify-start min-w-0 gap-3\">\n            <Squircle cornerRadius={12} className=\"w-10 h-10 overflow-hidden flex items-center justify-center bg-gray-50 border border-[#efefef] shrink-0\">\n              <SocialIcon name={item.icon} className=\"w-5 h-5\" />\n            </Squircle>\n            <div>\n              <h3 className={cn(\n                \"font-medium text-gray-900 leading-tight text-base tracking-tight\",\n                item.subtitle ? \"line-clamp-2\" : (item.image ? \"line-clamp-3\" : \"line-clamp-4\")\n              )}>{item.title}</h3>\n              {item.subtitle && <p className=\"text-xs text-gray-500 mt-1 font-normal truncate bento-subtitle\">{item.subtitle}</p>}\n            </div>\n          </div>\n          {/* Image - right side, 100% height, ~48% width like bento.me */}\n          {item.image && (\n            <Squircle cornerRadius={12} className=\"w-[55%] h-full overflow-hidden bg-gray-50 border border-[#efefef] shrink-0\">\n              <img\n                src={resolveMediaUrl(item.image)}\n                alt={item.title || ''}\n                loading=\"lazy\"\n                decoding=\"async\"\n                className=\"h-full w-full object-cover transition-transform duration-500\"\n              />\n            </Squircle>\n          )}\n        </div>\n      );\n    }\n\n    // 4. Vertical Rectangle (1x2) - icon + text grouped at top, image at bottom (48% height)\n    if (currentSize === '1x2') {\n      return (\n        <div className=\"flex flex-col h-full w-full bg-white group p-5 gap-3 md:gap-4\">\n          {/* Text content - top, icon + text grouped together */}\n          <div className=\"flex-1 flex flex-col justify-start gap-3\">\n            <Squircle cornerRadius={12} className=\"w-10 h-10 overflow-hidden flex items-center justify-center bg-gray-50 border border-[#efefef] shrink-0\">\n              <SocialIcon name={item.icon} className=\"w-5 h-5\" />\n            </Squircle>\n            <div>\n              <h3 className={cn(\n                \"font-medium text-gray-900 leading-tight text-base tracking-tight\",\n                item.subtitle ? \"line-clamp-2\" : \"line-clamp-5\"\n              )}>{item.title}</h3>\n              {item.subtitle && <p className=\"text-xs text-gray-500 mt-1.5 font-normal line-clamp-2 bento-subtitle\">{item.subtitle}</p>}\n            </div>\n          </div>\n          {/* Image - bottom, 55% height to match 2x1's 55% width ratio */}\n          {item.image && (\n            <Squircle cornerRadius={12} className=\"h-[55%] w-full overflow-hidden bg-gray-50 border border-[#efefef] shrink-0\">\n              <img\n                src={resolveMediaUrl(item.image)}\n                alt={item.title || ''}\n                loading=\"lazy\"\n                decoding=\"async\"\n                className=\"h-full w-full object-cover transition-transform duration-500\"\n              />\n            </Squircle>\n          )}\n        </div>\n      );\n    }\n\n    // 5. Large Square (2x2) - Hero-style card with full bleed image\n    if (currentSize === '2x2') {\n      return (\n        <div className=\"h-full w-full relative group overflow-hidden bg-gray-50\">\n          {item.image ? (\n            <>\n              {/* Full bleed image */}\n              <img\n                src={resolveMediaUrl(item.image)}\n                alt={item.title || ''}\n                loading=\"lazy\"\n                decoding=\"async\"\n                className=\"absolute inset-0 w-full h-full object-cover transition-transform duration-500\"\n              />\n              {/* Overlay with text */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent flex flex-col justify-end p-6\">\n                <Squircle cornerRadius={12} className=\"w-10 h-10 overflow-hidden flex items-center justify-center bg-white/20 backdrop-blur-sm mb-3\">\n                  <SocialIcon name={item.icon} className=\"w-5 h-5 text-white\" />\n                </Squircle>\n                <h3 className=\"text-white font-medium text-xl leading-tight tracking-tight\">{item.title}</h3>\n                {item.subtitle && <p className=\"text-white/70 text-sm mt-2 font-normal bento-subtitle\">{item.subtitle}</p>}\n              </div>\n            </>\n          ) : (\n            <div className=\"h-full w-full flex flex-col p-6 justify-between bg-white\">\n              <Squircle cornerRadius={12} className=\"w-14 h-14 bg-gray-100 border border-gray-200 flex items-center justify-center\">\n                <SocialIcon name={item.icon} className=\"w-8 h-8\" />\n              </Squircle>\n              <div>\n                <h3 className=\"font-medium text-2xl text-gray-900 leading-tight tracking-tight\">{item.title}</h3>\n                {item.subtitle && <p className=\"text-sm text-gray-500 mt-3 font-normal bento-subtitle\">{item.subtitle}</p>}\n              </div>\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    return <div className=\"p-4\">Card</div>;\n  };\n\n  const isHeading = item.type === 'heading' || currentSize === 'full';\n\n  return (\n    <div\n      ref={cardRef}\n      tabIndex={isInteractive ? 0 : undefined}\n      role={item.url ? 'link' : canEdit ? 'button' : undefined}\n      className={cn(\n        \"relative h-full w-full group select-none transition-[transform,box-shadow,opacity] duration-300 ease-[cubic-bezier(0.16,1,0.3,1)]\",\n        isDragging ? \"z-[100]\" : \"\",\n        isOverlay ? \"rotate-[3deg] scale-[1.02]\" : \"rotate-0\",\n        isInteractive && \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black focus-visible:ring-offset-2 rounded-card\"\n      )}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      onClick={handleCardClick}\n      onKeyDown={isInteractive ? handleKeyDown : undefined}\n    >\n      {isHeading ? (\n        // Heading - no card wrapper, just the content\n        <div className={cn(\n          \"h-full w-full flex items-center transition-opacity duration-300\",\n          isDragging ? \"opacity-50\" : \"\",\n          canEdit && \"cursor-grab active:cursor-grabbing hover:opacity-80\"\n        )}>\n          {renderContent()}\n        </div>\n      ) : (\n        <Card className={cn(\n          \"h-full w-full shadow-card transition-[transform,box-shadow,background-color] duration-300 ease-[cubic-bezier(0.16,1,0.3,1)] p-0 relative\",\n          isDragging ? \"shadow-card-drag\" : (\n            // Text cards without URLs in public view should have no interactive styling\n            (isTextCardWithoutUrl && !canEdit)\n              ? \"\" // No hover/click effects\n              : \"hover:shadow-card-hover cursor-grab active:scale-[0.98]\"\n          )\n        )}>\n          {renderContent()}\n        </Card>\n      )}\n\n      {canEdit && isHovered && !isDragging && !isOverlay && onDelete && (\n        <EditControls\n          onDelete={() => onDelete(item.id)}\n          onResize={isHeading ? undefined : (onResize ? (size) => onResize(item.id, size) : undefined)}\n          currentSize={currentSize}\n          isHeading={isHeading}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default BentoCard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1505, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/utils.ts"],"sourcesContent":["import { cn } from '../lib/utils';\n\nexport { cn };\n\nexport const getSizeClasses = (size: string) => {\n  // Fixed-width flex-based layout for wrapping bento grid\n  // Card widths are fixed so they wrap rather than shrink\n  // Uses CSS custom properties for responsive sizing: --card-unit (150px desktop, 140px mobile)\n  // Height is determined by aspect ratio via data-item-size attribute in CSS\n  switch (size) {\n    case '1x1':\n      // Square: 1 unit wide\n      return 'bento-card bento-card-1x1';\n    case '1x0.5':\n      // Wide half-height: 2 units wide\n      return 'bento-card bento-card-2x1 bento-card-half-height';\n    case '2x1':\n      // Wide: 2 units wide\n      return 'bento-card bento-card-2x1';\n    case '1x2':\n      // Tall: 1 unit wide, double height\n      return 'bento-card bento-card-1x2';\n    case '2x2':\n      // Large square: 2 units wide\n      return 'bento-card bento-card-2x2';\n    case 'full':\n      // Full width\n      return 'bento-card bento-card-full';\n    default:\n      return 'bento-card bento-card-1x1';\n  }\n};"],"names":[],"mappings":";;;;AAAA;;;AAIO,MAAM,iBAAiB,CAAC;IAC7B,wDAAwD;IACxD,wDAAwD;IACxD,8FAA8F;IAC9F,2EAA2E;IAC3E,OAAQ;QACN,KAAK;YACH,sBAAsB;YACtB,OAAO;QACT,KAAK;YACH,iCAAiC;YACjC,OAAO;QACT,KAAK;YACH,qBAAqB;YACrB,OAAO;QACT,KAAK;YACH,mCAAmC;YACnC,OAAO;QACT,KAAK;YACH,6BAA6B;YAC7B,OAAO;QACT,KAAK;YACH,aAAa;YACb,OAAO;QACT;YACE,OAAO;IACX;AACF"}},
    {"offset": {"line": 1544, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/SortableItem.tsx"],"sourcesContent":["import React from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport BentoCard from './BentoCard';\nimport { BentoItemData, ItemSize, ViewMode } from '../types';\nimport { getSizeClasses, cn } from './utils';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Squircle } from './ui/squircle';\n\n// Helper to get size for current view\nconst getViewSize = (item: BentoItemData, view: ViewMode): ItemSize => {\n  const layout = view === 'desktop' ? item.desktopLayout : item.mobileLayout;\n  return layout?.size || item.size;\n};\n\ninterface SortableItemProps {\n  item: BentoItemData;\n  currentView: ViewMode;\n  isAdminRoute?: boolean; // Whether we're on the admin route\n  onDelete: (id: string) => void;\n  onResize: (id: string, size: ItemSize) => void;\n  onUpdate: (id: string, updates: Partial<BentoItemData>) => void;\n  onStartEdit?: (id: string, anchorRect: DOMRect) => void;\n}\n\nconst SortableItem: React.FC<SortableItemProps> = ({ item, currentView, isAdminRoute = false, onDelete, onResize, onUpdate, onStartEdit }) => {\n  const { isAuthenticated, isAdmin } = useAuth();\n  // canEdit requires BOTH route context (isAdminRoute) AND auth state\n  const canEdit = isAdminRoute && isAuthenticated && isAdmin;\n\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: item.id, data: { item }, disabled: !canEdit });\n\n  const style = {\n    transform: CSS.Translate.toString(transform),\n    transition: transition || 'transform 200ms cubic-bezier(0.16, 1, 0.3, 1)',\n    zIndex: isDragging ? 100 : undefined,\n  };\n\n  // Get size for current view\n  const currentSize = getViewSize(item, currentView);\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...(canEdit ? attributes : {})}\n      {...(canEdit ? listeners : {})}\n      data-item-size={currentSize}\n      data-item-id={item.id}\n      className={cn(\n        getSizeClasses(currentSize),\n        // Only apply touch-none in edit mode to allow scrolling on public page\n        canEdit && \"touch-none\",\n        \"relative hover:z-[70]\"\n      )}\n    >\n      {/* Drop Zone Placeholder */}\n      <Squircle cornerRadius={20} className={cn(\n        \"absolute inset-0 bg-gray-200/50 border-2 border-dashed border-gray-300/50 transition-opacity duration-300\",\n        isDragging ? \"opacity-100\" : \"opacity-0 pointer-events-none\"\n      )} />\n\n      {/* Actual Content */}\n      <div className={cn(\n        \"absolute inset-0 h-full w-full transition-opacity duration-300 ease-[cubic-bezier(0.16,1,0.3,1)]\",\n        isDragging ? \"opacity-0\" : \"opacity-100\"\n      )}>\n        <BentoCard\n          item={item}\n          currentView={currentView}\n          isAdminRoute={isAdminRoute}\n          onDelete={onDelete}\n          onResize={onResize}\n          onUpdate={onUpdate}\n          onStartEdit={onStartEdit}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default SortableItem;"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;;;;;;;;AAEA,sCAAsC;AACtC,MAAM,cAAc,CAAC,MAAqB;IACxC,MAAM,SAAS,SAAS,YAAY,KAAK,aAAa,GAAG,KAAK,YAAY;IAC1E,OAAO,QAAQ,QAAQ,KAAK,IAAI;AAClC;AAYA,MAAM,eAA4C,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,eAAe,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE;IACvI,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,4KAAO;IAC5C,oEAAoE;IACpE,MAAM,UAAU,gBAAgB,mBAAmB;IAEnD,MAAM,EACJ,UAAU,EACV,SAAS,EACT,UAAU,EACV,SAAS,EACT,UAAU,EACV,UAAU,EACX,GAAG,IAAA,2NAAW,EAAC;QAAE,IAAI,KAAK,EAAE;QAAE,MAAM;YAAE;QAAK;QAAG,UAAU,CAAC;IAAQ;IAElE,MAAM,QAAQ;QACZ,WAAW,qNAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;QAClC,YAAY,cAAc;QAC1B,QAAQ,aAAa,MAAM;IAC7B;IAEA,4BAA4B;IAC5B,MAAM,cAAc,YAAY,MAAM;IAEtC,qBACE,uRAAC;QACC,KAAK;QACL,OAAO;QACN,GAAI,UAAU,aAAa,CAAC,CAAC;QAC7B,GAAI,UAAU,YAAY,CAAC,CAAC;QAC7B,kBAAgB;QAChB,gBAAc,KAAK,EAAE;QACrB,WAAW,IAAA,2JAAE,EACX,IAAA,8LAAc,EAAC,cACf,uEAAuE;QACvE,WAAW,cACX;;0BAIF,uRAAC,kLAAQ;gBAAC,cAAc;gBAAI,WAAW,IAAA,2JAAE,EACvC,6GACA,aAAa,gBAAgB;;;;;;0BAI/B,uRAAC;gBAAI,WAAW,IAAA,2JAAE,EAChB,oGACA,aAAa,cAAc;0BAE3B,cAAA,uRAAC,4KAAS;oBACR,MAAM;oBACN,aAAa;oBACb,cAAc;oBACd,UAAU;oBACV,UAAU;oBACV,UAAU;oBACV,aAAa;;;;;;;;;;;;;;;;;AAKvB;uCAEe"}},
    {"offset": {"line": 1636, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/Toolbar.tsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport { Link as LinkIcon, Film, Type, Smartphone, Monitor, Heading1 } from 'lucide-react';\nimport { ItemType, ViewMode } from '../types';\nimport { Button } from './ui/button';\nimport { useAuth } from '../contexts/AuthContext';\nimport { cn } from '../lib/utils';\n\ninterface ToolbarProps {\n  onStartCreate: (type: ItemType, anchorRect: DOMRect) => void;\n  currentView: ViewMode;\n  onViewChange: (view: ViewMode) => void;\n}\n\nconst Toolbar: React.FC<ToolbarProps> = ({ onStartCreate, currentView, onViewChange }) => {\n  const { isAuthenticated, isAdmin } = useAuth();\n  const canEdit = isAuthenticated && isAdmin;\n  const toolbarRef = useRef<HTMLDivElement>(null);\n\n  const handleAddClick = (type: ItemType) => {\n    if (toolbarRef.current) {\n      const rect = toolbarRef.current.getBoundingClientRect();\n      onStartCreate(type, rect);\n    }\n  };\n  \n  return (\n    <div \n      ref={toolbarRef}\n      className=\"fixed bottom-8 left-1/2 -translate-x-1/2 z-40 flex items-center gap-4 animate-in slide-in-from-bottom-10 fade-in duration-500\"\n    >\n      \n      {/* Main Action Bar */}\n      <div className=\"flex items-center bg-white p-1.5 rounded-[8px] shadow-2xl border border-[#efefef]\">\n        \n        {/* Share Button (Primary) */}\n        <Button variant=\"primary\" size=\"lg\" className=\"rounded-[4px] font-bold mr-2\">\n          Share my Portfolio\n        </Button>\n\n        {canEdit && (\n          <>\n            <div className=\"w-px h-8 bg-gray-200 mx-1\"></div>\n\n            {/* Add Tools */}\n            <div className=\"flex items-center gap-1 px-2\">\n              <Button variant=\"icon\" size=\"icon\" onClick={() => handleAddClick('heading')} className=\"rounded-[4px]\" title=\"Add Section Heading\">\n                <Heading1 size={20} />\n              </Button>\n              <Button variant=\"icon\" size=\"icon\" onClick={() => handleAddClick('link')} className=\"rounded-[4px]\" title=\"Add Link\">\n                <LinkIcon size={20} />\n              </Button>\n              <Button variant=\"icon\" size=\"icon\" onClick={() => handleAddClick('image')} className=\"rounded-[4px]\" title=\"Add Media (Image/Video)\">\n                <Film size={20} />\n              </Button>\n              <Button variant=\"icon\" size=\"icon\" onClick={() => handleAddClick('text')} className=\"rounded-[4px]\" title=\"Add Text\">\n                <Type size={20} />\n              </Button>\n            </div>\n\n            <div className=\"w-px h-8 bg-gray-200 mx-1\"></div>\n\n            {/* View Toggle */}\n            <div className=\"flex items-center gap-1 px-2\">\n              <Button \n                variant={currentView === 'desktop' ? 'default' : 'icon'} \n                size=\"icon\" \n                onClick={() => onViewChange('desktop')}\n                className={cn(\n                  \"rounded-[4px] transition-all\",\n                  currentView === 'desktop' ? \"bg-black shadow-md text-white\" : \"text-gray-400 hover:text-gray-600\"\n                )}\n                title=\"Desktop View\"\n              >\n                <Monitor size={20} />\n              </Button>\n              <Button \n                variant={currentView === 'mobile' ? 'default' : 'icon'} \n                size=\"icon\" \n                onClick={() => onViewChange('mobile')}\n                className={cn(\n                  \"rounded-[4px] transition-all\",\n                  currentView === 'mobile' ? \"bg-black shadow-md text-white\" : \"text-gray-400 hover:text-gray-600\"\n                )}\n                title=\"Mobile View\"\n              >\n                <Smartphone size={20} />\n              </Button>\n            </div>\n          </>\n        )}\n\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;;;;;;;AAQA,MAAM,UAAkC,CAAC,EAAE,aAAa,EAAE,WAAW,EAAE,YAAY,EAAE;IACnF,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,4KAAO;IAC5C,MAAM,UAAU,mBAAmB;IACnC,MAAM,aAAa,IAAA,wPAAM,EAAiB;IAE1C,MAAM,iBAAiB,CAAC;QACtB,IAAI,WAAW,OAAO,EAAE;YACtB,MAAM,OAAO,WAAW,OAAO,CAAC,qBAAqB;YACrD,cAAc,MAAM;QACtB;IACF;IAEA,qBACE,uRAAC;QACC,KAAK;QACL,WAAU;kBAIV,cAAA,uRAAC;YAAI,WAAU;;8BAGb,uRAAC,8KAAM;oBAAC,SAAQ;oBAAU,MAAK;oBAAK,WAAU;8BAA+B;;;;;;gBAI5E,yBACC;;sCACE,uRAAC;4BAAI,WAAU;;;;;;sCAGf,uRAAC;4BAAI,WAAU;;8CACb,uRAAC,8KAAM;oCAAC,SAAQ;oCAAO,MAAK;oCAAO,SAAS,IAAM,eAAe;oCAAY,WAAU;oCAAgB,OAAM;8CAC3G,cAAA,uRAAC,mQAAQ;wCAAC,MAAM;;;;;;;;;;;8CAElB,uRAAC,8KAAM;oCAAC,SAAQ;oCAAO,MAAK;oCAAO,SAAS,IAAM,eAAe;oCAAS,WAAU;oCAAgB,OAAM;8CACxG,cAAA,uRAAC,mPAAQ;wCAAC,MAAM;;;;;;;;;;;8CAElB,uRAAC,8KAAM;oCAAC,SAAQ;oCAAO,MAAK;oCAAO,SAAS,IAAM,eAAe;oCAAU,WAAU;oCAAgB,OAAM;8CACzG,cAAA,uRAAC,mPAAI;wCAAC,MAAM;;;;;;;;;;;8CAEd,uRAAC,8KAAM;oCAAC,SAAQ;oCAAO,MAAK;oCAAO,SAAS,IAAM,eAAe;oCAAS,WAAU;oCAAgB,OAAM;8CACxG,cAAA,uRAAC,mPAAI;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAIhB,uRAAC;4BAAI,WAAU;;;;;;sCAGf,uRAAC;4BAAI,WAAU;;8CACb,uRAAC,8KAAM;oCACL,SAAS,gBAAgB,YAAY,YAAY;oCACjD,MAAK;oCACL,SAAS,IAAM,aAAa;oCAC5B,WAAW,IAAA,2JAAE,EACX,gCACA,gBAAgB,YAAY,kCAAkC;oCAEhE,OAAM;8CAEN,cAAA,uRAAC,4PAAO;wCAAC,MAAM;;;;;;;;;;;8CAEjB,uRAAC,8KAAM;oCACL,SAAS,gBAAgB,WAAW,YAAY;oCAChD,MAAK;oCACL,SAAS,IAAM,aAAa;oCAC5B,WAAW,IAAA,2JAAE,EACX,gCACA,gBAAgB,WAAW,kCAAkC;oCAE/D,OAAM;8CAEN,cAAA,uRAAC,qQAAU;wCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlC;uCAEe"}},
    {"offset": {"line": 1844, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/lib/github.ts"],"sourcesContent":["/**\n * GitHub API integration for content management\n * \n * Uses GitHub Contents API to read/write portfolio content\n * https://docs.github.com/en/rest/repos/contents\n */\n\nimport { BentoItemData } from '../types';\n\n// Repository configuration\nconst REPO_OWNER = 'bamboozledkitty';\nconst REPO_NAME = 'keith-vaz-portfolio';\nconst CONTENT_PATH = 'public/content/data.json';\nconst MEDIA_PATH = 'public/media';\n\n// GitHub API base URL\nconst GITHUB_API = 'https://api.github.com';\n\ninterface GitHubFileResponse {\n    sha: string;\n    content: string;\n    encoding: string;\n}\n\ninterface ContentData {\n    version: number;\n    lastUpdated: string;\n    items: BentoItemData[];\n}\n\n/**\n * Fetch content from the GitHub repository\n */\nexport async function fetchContentFromGitHub(token: string): Promise<ContentData> {\n    const response = await fetch(\n        `${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/contents/${CONTENT_PATH}`,\n        {\n            headers: {\n                Authorization: `Bearer ${token}`,\n                Accept: 'application/vnd.github.v3+json',\n            },\n        }\n    );\n\n    if (!response.ok) {\n        throw new Error(`Failed to fetch content: ${response.status}`);\n    }\n\n    const data: GitHubFileResponse = await response.json();\n    // UTF-8 safe base64 decoding\n    const content = decodeURIComponent(escape(atob(data.content)));\n    return JSON.parse(content);\n}\n\n/**\n * Save content to the GitHub repository\n */\nexport async function saveContentToGitHub(\n    token: string,\n    items: BentoItemData[],\n    commitMessage = 'Update portfolio content'\n): Promise<void> {\n    // First, get the current file SHA (required for updates)\n    const currentFile = await fetch(\n        `${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/contents/${CONTENT_PATH}`,\n        {\n            headers: {\n                Authorization: `Bearer ${token}`,\n                Accept: 'application/vnd.github.v3+json',\n            },\n        }\n    );\n\n    if (!currentFile.ok) {\n        throw new Error(`Failed to get current file: ${currentFile.status}`);\n    }\n\n    const currentData: GitHubFileResponse = await currentFile.json();\n\n    // Prepare new content\n    const newContent: ContentData = {\n        version: 1,\n        lastUpdated: new Date().toISOString(),\n        items,\n    };\n\n    // UTF-8 safe base64 encoding\n    const jsonString = JSON.stringify(newContent, null, 2);\n    const contentBase64 = btoa(unescape(encodeURIComponent(jsonString)));\n\n    // Update the file\n    const response = await fetch(\n        `${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/contents/${CONTENT_PATH}`,\n        {\n            method: 'PUT',\n            headers: {\n                Authorization: `Bearer ${token}`,\n                Accept: 'application/vnd.github.v3+json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                message: commitMessage,\n                content: contentBase64,\n                sha: currentData.sha,\n            }),\n        }\n    );\n\n    if (!response.ok) {\n        const error = await response.json();\n        throw new Error(`Failed to save content: ${error.message || response.status}`);\n    }\n}\n\n// GitHub Contents API file size limit (1MB)\nconst MAX_FILE_SIZE = 1_000_000;\n\n/**\n * Upload a media file to the GitHub repository\n * Note: GitHub Contents API has a 1MB limit. For larger files, compress or upload via git locally.\n */\nexport async function uploadMediaToGitHub(\n    token: string,\n    file: File,\n    folder: 'profile' | 'case-studies' | 'visual-design/images' | 'visual-design/videos' | 'apps'\n): Promise<string> {\n    // Check file size limit\n    if (file.size > MAX_FILE_SIZE) {\n        const sizeMB = (file.size / 1_000_000).toFixed(1);\n        throw new Error(\n            `File is too large (${sizeMB}MB). Maximum size is 1MB. ` +\n            `Please compress the file or upload it manually via git.`\n        );\n    }\n\n    const fileName = `${Date.now()}-${file.name.replace(/[^a-zA-Z0-9.-]/g, '_')}`;\n    const filePath = `${MEDIA_PATH}/${folder}/${fileName}`;\n\n    // Read file as base64\n    const content = await new Promise<string>((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n            const result = reader.result as string;\n            // Remove data URL prefix (data:image/png;base64,)\n            const base64 = result.split(',')[1];\n            resolve(base64);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n    });\n\n    // Check if file already exists (to get SHA for update)\n    let sha: string | undefined;\n    try {\n        const existingFile = await fetch(\n            `${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/contents/${filePath}`,\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    Accept: 'application/vnd.github.v3+json',\n                },\n            }\n        );\n        if (existingFile.ok) {\n            const data: GitHubFileResponse = await existingFile.json();\n            sha = data.sha;\n        }\n    } catch {\n        // File doesn't exist, that's fine\n    }\n\n    // Upload the file\n    const response = await fetch(\n        `${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/contents/${filePath}`,\n        {\n            method: 'PUT',\n            headers: {\n                Authorization: `Bearer ${token}`,\n                Accept: 'application/vnd.github.v3+json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                message: `Add media: ${fileName}`,\n                content,\n                ...(sha && { sha }),\n            }),\n        }\n    );\n\n    if (!response.ok) {\n        const error = await response.json();\n        throw new Error(`Failed to upload media: ${error.message || response.status}`);\n    }\n\n    // Return path relative to public folder (without base URL)\n    // Base URL will be prepended at render time for GitHub Pages compatibility\n    return `/media/${folder}/${fileName}`;\n}\n\n/**\n * Delete a media file from the GitHub repository\n */\nexport async function deleteMediaFromGitHub(\n    token: string,\n    mediaPath: string\n): Promise<void> {\n    // Convert content path to repo path\n    const repoPath = `public${mediaPath}`;\n\n    // Get file SHA\n    const fileResponse = await fetch(\n        `${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/contents/${repoPath}`,\n        {\n            headers: {\n                Authorization: `Bearer ${token}`,\n                Accept: 'application/vnd.github.v3+json',\n            },\n        }\n    );\n\n    if (!fileResponse.ok) {\n        throw new Error(`Failed to get file: ${fileResponse.status}`);\n    }\n\n    const fileData: GitHubFileResponse = await fileResponse.json();\n\n    // Delete the file\n    const response = await fetch(\n        `${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/contents/${repoPath}`,\n        {\n            method: 'DELETE',\n            headers: {\n                Authorization: `Bearer ${token}`,\n                Accept: 'application/vnd.github.v3+json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                message: `Delete media: ${mediaPath}`,\n                sha: fileData.sha,\n            }),\n        }\n    );\n\n    if (!response.ok) {\n        const error = await response.json();\n        throw new Error(`Failed to delete media: ${error.message || response.status}`);\n    }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2019, "column": 0}, "map": {"version":3,"sources":["file:///Users/keithvaz/Projects/keith-vaz-portfolio/components/PortfolioContent.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useMemo, useEffect, useRef, Suspense, lazy } from 'react';\nimport { LogOut, Loader2, AlertCircle, Save, Camera } from 'lucide-react';\nimport {\n    DndContext,\n    closestCenter,\n    KeyboardSensor,\n    PointerSensor,\n    useSensor,\n    useSensors,\n    DragOverlay,\n    DragStartEvent,\n    DragEndEvent,\n    DragOverEvent,\n    defaultDropAnimationSideEffects,\n    DropAnimation,\n} from '@dnd-kit/core';\nimport {\n    arrayMove,\n    SortableContext,\n    sortableKeyboardCoordinates,\n    rectSortingStrategy,\n} from '@dnd-kit/sortable';\nimport { useRouter } from 'next/navigation';\nimport SortableItem from './SortableItem';\nimport BentoCard from './BentoCard';\nimport Toolbar from './Toolbar';\nimport type { EditorState } from './CardEditorPopover';\nimport { BentoItemData, ItemType, ItemSize, ViewMode, ViewLayout, PortfolioData } from '../types';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Button } from './ui/button';\nimport { cn } from '../lib/utils';\nimport { saveContentToGitHub } from '../lib/github';\nimport { logError } from '../lib/logger';\n\n// Lazy load admin-only components to reduce initial bundle size\nconst CardEditorPopover = lazy(() => import('./CardEditorPopover'));\nconst ProfilePictureCropperModal = lazy(() => import('./ProfilePictureCropperModal'));\n\nconst generateId = () => Math.random().toString(36).substr(2, 9);\n\nconst getItemLayout = (item: BentoItemData, view: ViewMode): ViewLayout => {\n    const layout = view === 'desktop' ? item.desktopLayout : item.mobileLayout;\n    if (layout) return layout;\n    return { size: item.size, order: 0 };\n};\n\nconst getItemSize = (item: BentoItemData, view: ViewMode): ItemSize => {\n    return getItemLayout(item, view).size;\n};\n\nconst migrateItem = (item: BentoItemData, index: number): BentoItemData => {\n    if (item.desktopLayout && item.mobileLayout) return item;\n    return {\n        ...item,\n        desktopLayout: item.desktopLayout || { size: item.size, order: index },\n        mobileLayout: item.mobileLayout || { size: item.size, order: index },\n    };\n};\n\nconst dropAnimationConfig: DropAnimation = {\n    sideEffects: defaultDropAnimationSideEffects({\n        styles: {\n            active: {\n                opacity: '0.5',\n            },\n            dragOverlay: {\n                rotate: '0deg',\n                scale: '1',\n            },\n        },\n    }),\n};\n\ninterface PortfolioContentProps {\n    initialData: PortfolioData | null;\n    isAdmin?: boolean;\n}\n\nexport function PortfolioContent({ initialData, isAdmin = false }: PortfolioContentProps) {\n    const router = useRouter();\n    const { isAuthenticated, isAdmin: authIsAdmin, logout, token } = useAuth();\n    const canEdit = isAdmin && isAuthenticated && authIsAdmin;\n\n    const [items, setItems] = useState<BentoItemData[]>(() => {\n        if (initialData?.items) {\n            return initialData.items.map((item, index) => migrateItem(item, index));\n        }\n        return [];\n    });\n\n    const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n    const [isSaving, setIsSaving] = useState(false);\n    const [activeId, setActiveId] = useState<string | null>(null);\n    const [editorState, setEditorState] = useState<EditorState | null>(null);\n    const [currentView, setCurrentView] = useState<ViewMode>('desktop');\n\n    // Profile picture editing state\n    const profileInputRef = useRef<HTMLInputElement>(null);\n    const [profileImageSrc, setProfileImageSrc] = useState<string | null>(null);\n    const [showProfileCropper, setShowProfileCropper] = useState(false);\n    const [croppedProfilePicture, setCroppedProfilePicture] = useState<string | null>(null);\n\n    // Auto-detect viewport size for public view (non-admin)\n    useEffect(() => {\n        if (isAdmin) return;\n        const handleResize = () => {\n            const isMobile = window.innerWidth < 768;\n            setCurrentView(isMobile ? 'mobile' : 'desktop');\n        };\n        handleResize();\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, [isAdmin]);\n\n    const sortedItems = useMemo(() => {\n        return [...items].sort((a, b) => {\n            const orderA = getItemLayout(a, currentView).order;\n            const orderB = getItemLayout(b, currentView).order;\n            return orderA - orderB;\n        });\n    }, [items, currentView]);\n\n    const sensors = useSensors(\n        useSensor(PointerSensor, { activationConstraint: { distance: 5 } }),\n        useSensor(KeyboardSensor, { coordinateGetter: sortableKeyboardCoordinates })\n    );\n\n    const handleDragStart = (event: DragStartEvent) => {\n        if (!canEdit) return;\n        setActiveId(event.active.id as string);\n    };\n\n    const handleDragOver = (_event: DragOverEvent) => { };\n\n    const handleDragEnd = (event: DragEndEvent) => {\n        const { active, over } = event;\n        setActiveId(null);\n        if (!canEdit || !over || active.id === over.id) return;\n\n        const oldIndex = sortedItems.findIndex(item => item.id === active.id);\n        const newIndex = sortedItems.findIndex(item => item.id === over.id);\n\n        if (oldIndex !== -1 && newIndex !== -1 && oldIndex !== newIndex) {\n            const reordered = arrayMove(sortedItems, oldIndex, newIndex);\n            const layoutKey = currentView === 'desktop' ? 'desktopLayout' : 'mobileLayout';\n\n            const updatedItems = items.map(item => {\n                const newOrder = reordered.findIndex(r => r.id === item.id);\n                const currentLayout = getItemLayout(item, currentView);\n                return {\n                    ...item,\n                    [layoutKey]: { ...currentLayout, order: newOrder },\n                };\n            });\n\n            setItems(updatedItems);\n            setHasUnsavedChanges(true);\n        }\n    };\n\n    const handleStartCreate = (type: ItemType, anchorRect: DOMRect) => {\n        if (!canEdit) return;\n        setEditorState({ mode: 'create', type, anchorRect });\n    };\n\n    const handleStartEdit = (id: string, anchorRect: DOMRect) => {\n        if (!canEdit) return;\n        const item = items.find(i => i.id === id);\n        if (!item) return;\n        setEditorState({\n            mode: 'edit',\n            type: item.type,\n            cardId: id,\n            anchorRect,\n            existingData: item,\n        });\n    };\n\n    const handleEditorSave = (data: Partial<BentoItemData>) => {\n        if (!editorState) return;\n\n        if (editorState.mode === 'create') {\n            const size = data.size || '1x1';\n            const newLayout: ViewLayout = { size, order: 0 };\n            const newItem: BentoItemData = {\n                id: generateId(),\n                type: editorState.type,\n                size,\n                ...data,\n                desktopLayout: newLayout,\n                mobileLayout: { ...newLayout },\n            } as BentoItemData;\n\n            const updatedItems = items.map(item => ({\n                ...item,\n                desktopLayout: item.desktopLayout\n                    ? { ...item.desktopLayout, order: item.desktopLayout.order + 1 }\n                    : { size: item.size, order: 1 },\n                mobileLayout: item.mobileLayout\n                    ? { ...item.mobileLayout, order: item.mobileLayout.order + 1 }\n                    : { size: item.size, order: 1 },\n            }));\n\n            setItems([newItem, ...updatedItems]);\n            setHasUnsavedChanges(true);\n        } else if (editorState.cardId) {\n            setItems(prev => prev.map(item =>\n                item.id === editorState.cardId ? { ...item, ...data } : item\n            ));\n            setHasUnsavedChanges(true);\n        }\n        setEditorState(null);\n    };\n\n    const handleEditorCancel = () => setEditorState(null);\n\n    const handleDeleteItem = (id: string) => {\n        if (!canEdit) return;\n        setItems(prev => prev.filter(item => item.id !== id));\n        setHasUnsavedChanges(true);\n    };\n\n    const handleUpdateItem = (id: string, updates: Partial<BentoItemData>) => {\n        if (!canEdit) return;\n        setItems(prev => prev.map(item =>\n            item.id === id ? { ...item, ...updates } : item\n        ));\n        setHasUnsavedChanges(true);\n    };\n\n    const handleResize = (id: string, size: ItemSize) => {\n        if (!canEdit) return;\n        const layoutKey = currentView === 'desktop' ? 'desktopLayout' : 'mobileLayout';\n\n        setItems(prev => prev.map(item => {\n            if (item.id !== id) return item;\n            const currentLayout = getItemLayout(item, currentView);\n            return {\n                ...item,\n                size,\n                [layoutKey]: { ...currentLayout, size },\n            };\n        }));\n    };\n\n    const handleLogout = () => {\n        logout();\n        router.push('/');\n    };\n\n    const activeItem = sortedItems.find(item => item.id === activeId) || null;\n\n    return (\n        <div className=\"min-h-screen bg-white text-gray-900 selection:bg-black selection:text-white pb-32\">\n            {canEdit && (\n                <div className=\"bg-black text-white py-3 px-6 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2 text-sm font-medium\">\n                        <div className={cn(\n                            \"w-2 h-2 rounded-full\",\n                            hasUnsavedChanges ? \"bg-yellow-400\" : \"bg-green-400 animate-pulse\"\n                        )}></div>\n                        Admin Mode {hasUnsavedChanges ? '- Unsaved Changes' : '- Editing Enabled'}\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                        {hasUnsavedChanges && (\n                            <Button\n                                onClick={async () => {\n                                    if (!token) return;\n                                    if (token.startsWith('test-token-')) {\n                                        alert('Use GitHub account to save changes.');\n                                        return;\n                                    }\n                                    setIsSaving(true);\n                                    try {\n                                        await saveContentToGitHub(token, items);\n                                        setHasUnsavedChanges(false);\n                                    } finally {\n                                        setIsSaving(false);\n                                    }\n                                }}\n                                variant=\"secondary\"\n                                size=\"sm\"\n                                disabled={isSaving}\n                                className=\"bg-green-500 hover:bg-green-600 text-white border-green-600\"\n                            >\n                                {isSaving ? <Loader2 size={16} className=\"animate-spin\" /> : <Save size={16} />}\n                                {isSaving ? 'Saving...' : 'Save'}\n                            </Button>\n                        )}\n                        <Button\n                            onClick={handleLogout}\n                            variant=\"secondary\"\n                            size=\"sm\"\n                            className=\"bg-white/10 hover:bg-white/20 text-white border-white/20\"\n                        >\n                            <LogOut size={16} />\n                            Logout\n                        </Button>\n                    </div>\n                </div>\n            )}\n\n            <div className=\"layout-container\">\n                <aside className=\"about-section\">\n                    <div className=\"flex flex-col items-start text-left w-full\">\n                        <div\n                            className={cn(\n                                \"w-[120px] h-[120px] md:w-[180px] md:h-[180px] rounded-full overflow-hidden mb-8 transition-transform duration-500 ease-out relative group\",\n                                canEdit && \"hover:scale-[1.02] cursor-pointer hover:ring-4 hover:ring-black/20\"\n                            )}\n                            onClick={canEdit ? () => profileInputRef.current?.click() : undefined}\n                        >\n                            <img\n                                src={croppedProfilePicture || `/media/profile/profile-pic/IMG_5823.jpg`}\n                                alt=\"Keith Vaz\"\n                                className=\"w-full h-full object-cover\"\n                            />\n                            {canEdit && (\n                                <div className=\"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\">\n                                    <Camera size={32} className=\"text-white\" />\n                                </div>\n                            )}\n                        </div>\n                        <input\n                            type=\"file\"\n                            ref={profileInputRef}\n                            accept=\"image/*\"\n                            className=\"hidden\"\n                            onChange={(e) => {\n                                const file = e.target.files?.[0];\n                                if (file) {\n                                    const reader = new FileReader();\n                                    reader.onloadend = () => {\n                                        setProfileImageSrc(reader.result as string);\n                                        setShowProfileCropper(true);\n                                    };\n                                    reader.readAsDataURL(file);\n                                }\n                                e.target.value = '';\n                            }}\n                        />\n\n                        <h1 className=\"text-4xl md:text-5xl font-bold tracking-tight mb-5 leading-tight w-full\">\n                            Keith Vaz <span className=\"inline-block hover:rotate-12 transition-transform cursor-default duration-500\">ðŸ‘‹</span>\n                        </h1>\n\n                        <div className=\"flex flex-col gap-2 text-gray-500 text-base font-normal mb-8\">\n                            <div className=\"flex items-center gap-3\">\n                                <span className=\"text-base\">ðŸ‘¨ðŸ½â€ðŸ’»</span>\n                                <span>Design Systems Designer</span>\n                            </div>\n                            <div className=\"flex items-center gap-3\">\n                                <span className=\"text-base\">ðŸ“</span>\n                                <span>Bangalore</span>\n                            </div>\n                            <div className=\"flex items-center gap-3\">\n                                <span className=\"text-base\">ðŸ¡</span>\n                                <span>Goa</span>\n                            </div>\n                        </div>\n                    </div>\n                </aside>\n\n                <main className=\"grid-section min-h-[60vh]\">\n                    <DndContext\n                        sensors={sensors}\n                        collisionDetection={closestCenter}\n                        onDragStart={handleDragStart}\n                        onDragOver={handleDragOver}\n                        onDragEnd={handleDragEnd}\n                    >\n                        <SortableContext\n                            items={sortedItems.map(item => item.id)}\n                            strategy={rectSortingStrategy}\n                        >\n                            <div className=\"bento-grid\">\n                                {sortedItems.map((item) => (\n                                    <SortableItem\n                                        key={item.id}\n                                        item={item}\n                                        currentView={currentView}\n                                        isAdminRoute={isAdmin}\n                                        onDelete={handleDeleteItem}\n                                        onResize={handleResize}\n                                        onUpdate={handleUpdateItem}\n                                        onStartEdit={handleStartEdit}\n                                    />\n                                ))}\n                            </div>\n                        </SortableContext>\n\n                        <DragOverlay adjustScale={false} dropAnimation={dropAnimationConfig}>\n                            {activeItem ? (\n                                <div className=\"w-full h-full cursor-grabbing\">\n                                    <BentoCard item={activeItem} currentView={currentView} isAdminRoute={isAdmin} isOverlay isDragging />\n                                </div>\n                            ) : null}\n                        </DragOverlay>\n                    </DndContext>\n                </main>\n            </div>\n\n            {canEdit && (\n                <Toolbar\n                    onStartCreate={handleStartCreate}\n                    currentView={currentView}\n                    onViewChange={setCurrentView}\n                />\n            )}\n\n            {editorState && (\n                <Suspense fallback={null}>\n                    <CardEditorPopover\n                        state={editorState}\n                        onSave={handleEditorSave}\n                        onCancel={handleEditorCancel}\n                    />\n                </Suspense>\n            )}\n\n            {showProfileCropper && profileImageSrc && (\n                <Suspense fallback={null}>\n                    <ProfilePictureCropperModal\n                        imageSrc={profileImageSrc}\n                        onSave={(croppedImage) => {\n                            setCroppedProfilePicture(croppedImage);\n                            setShowProfileCropper(false);\n                            setProfileImageSrc(null);\n                            setHasUnsavedChanges(true);\n                        }}\n                        onCancel={() => {\n                            setShowProfileCropper(false);\n                            setProfileImageSrc(null);\n                        }}\n                    />\n                </Suspense>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}