module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},4745,(a,b,c)=>{"use strict";b.exports=a.r(47599).vendored.contexts.AppRouterContext},60466,(a,b,c)=>{"use strict";b.exports=a.r(47599).vendored.contexts.HooksClientContext},33346,(a,b,c)=>{"use strict";b.exports=a.r(47599).vendored.contexts.ServerInsertedHtml},26132,a=>{"use strict";var b=a.i(50455),c=a.i(53444),d=a.i(59508);let e=(0,d.default)("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),f=(0,d.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var g=a.i(17644),h=a.i(28361),i=a.i(12500),j=a.i(42255),k=a.i(17561),l=a.i(62768);let m=()=>{let a=(0,g.useRouter)(),d=(0,g.useSearchParams)(),{setAuth:m}=(0,j.useAuth)(),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{let b=d.get("code")||new URLSearchParams(window.location.search).get("code"),c=d.get("state")||new URLSearchParams(window.location.search).get("state"),e=d.get("error")||new URLSearchParams(window.location.search).get("error");if(e)return o(`GitHub authorization failed: ${e}`);if(b&&c){if(!(0,h.verifyState)(c))return o("Invalid state parameter. Security verification failed.");q(!0);try{let d=await (0,h.requestAccessToken)(b,c),e=await (0,h.fetchGitHubUser)(d);if(e.login!==i.ADMIN_USERNAME)return void o(`User ${e.login} is not authorized as admin.`);(0,h.saveAuthState)(d,e),m(d,e),window.history.replaceState({},"",window.location.pathname),a.push("/admin")}catch(a){((...a)=>{})("Auth error:",a),o(a instanceof Error?a.message:"Authentication failed")}finally{q(!1)}}})()},[m,a,d]);let r=async()=>{q(!0);let a=new URL("/admin/callback/",window.location.origin).toString(),b=(0,h.getGitHubOAuthUrl)(a);window.location.href=b};return(0,b.jsx)("div",{className:"min-h-screen bg-[#f7f6f3] flex items-center justify-center p-6",children:(0,b.jsx)("div",{className:"w-full max-w-md",children:(0,b.jsxs)(l.Squircle,{cornerRadius:16,className:"bg-white shadow-lg border border-gray-100 p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(e,{size:32,className:"text-white"})}),(0,b.jsx)("h1",{className:"text-3xl font-black mb-2 tracking-tight",children:"Admin Access"}),(0,b.jsx)("p",{className:"text-gray-500 text-lg",children:"Sign in with GitHub to edit your portfolio"})]}),n&&(0,b.jsxs)(l.Squircle,{cornerRadius:8,className:"mb-6 p-4 bg-red-50 border border-red-200 flex gap-3",children:[(0,b.jsx)(f,{size:20,className:"text-red-500 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-red-700",children:n})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(k.Button,{onClick:r,disabled:p,className:"w-full bg-black hover:bg-gray-900 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-3 transition-colors",children:[(0,b.jsx)(e,{size:20}),p?"Redirecting to GitHub...":"Login with GitHub"]}),!1]}),(0,b.jsxs)(l.Squircle,{cornerRadius:8,className:"mt-8 p-4 bg-blue-50 border border-blue-200",children:[(0,b.jsx)("h3",{className:"font-medium text-sm text-blue-900 mb-2",children:"Setup Instructions:"}),(0,b.jsxs)("ol",{className:"text-xs text-blue-800 space-y-2 list-decimal list-inside",children:[(0,b.jsx)("li",{children:"Create a GitHub OAuth App in your settings"}),(0,b.jsxs)("li",{children:["Set redirect URI to: ",(0,b.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:`${window.location.origin}/admin/callback/`})]}),(0,b.jsx)("li",{children:"Add Client ID to environment variable NEXT_PUBLIC_GITHUB_CLIENT_ID"}),(0,b.jsx)("li",{children:"Setup a backend to exchange code for access token"})]})]})]})})})};function n(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"flex h-screen items-center justify-center text-lg",children:"Loading..."}),children:(0,b.jsx)(m,{})})}a.s(["default",()=>n],26132)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5644fd43._.js.map